{
	"info": {
		"_postman_id": "0eff43d2-26e6-05fc-73a3-ecc505c0b2c1",
		"name": "ID&V + Screening",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Passport check",
			"description": "",
			"item": [
				{
					"name": "Create an Enduser (Nigel)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Nigel Verdon\",\n          \"email\": \"nigel@railsbank.com\",\n          \"date_of_birth\": \"1967-04-01\",\n          \"telephone\": \"0012345678912\",\n          \"address\": {\n            \"address_refinement\": \"Apartment 124, Globe View\",\n            \"address_number\": \"10\",\n            \"address_street\": \"High Timber Street\",\n            \"address_city\": \"London\",\n            \"address_postal_code\": \"EC4V 3PN\",\n            \"address_region\": \"Greater London\",\n            \"address_iso_country\": \"GBR\"\n       }, \n       \"address_history\": [ \n         { \n        \"address_refinement\": \"Apartment 124, Globe View\",\n            \"address_number\": \"10\",\n            \"address_street\": \"High Timber Street\",\n            \"address_city\": \"London\",\n            \"address_postal_code\": \"EC4V 3PN\",\n            \"address_region\": \"Greater London\",\n            \"address_iso_country\": \"GBR\",\n           \"address_start_date\": \"2000-09-02\", \n           \"address_end_date\": \"2022-12-20\" \n         } \n       ], \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2015-11-21\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate idv passport check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"idv_check_scenario\": \"PayrNet-IdVS1-passport-check\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/idv-checks",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"idv-checks"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload passport",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d42ea65b-2052-497e-b5b5-17876d8aacd7",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "passport",
									"description": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/idv-docs",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"idv-docs"
							]
						}
					},
					"response": []
				},
				{
					"name": "IDV Docs",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/idv-docs?idv_check_scenario=PayrNet-IdVS1-passport-check",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"idv-docs"
							],
							"query": [
								{
									"key": "idv_check_scenario",
									"value": "PayrNet-IdVS1-passport-check"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Identity check",
			"description": "",
			"item": [
				{
					"name": "Create an Enduser (Nigel)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Nigel Verdon\",\n          \"email\": \"nigel@railsbank.com\",\n          \"date_of_birth\": \"1967-04-01\",\n          \"telephone\": \"0012345678912\",\n          \"address\": {\n            \"address_refinement\": \"Apartment 124, Globe View\",\n            \"address_number\": \"10\",\n            \"address_street\": \"High Timber Street\",\n            \"address_city\": \"London\",\n            \"address_postal_code\": \"EC4V 3PN\",\n            \"address_region\": \"Greater London\",\n            \"address_iso_country\": \"GBR\"\n       }, \n       \"address_history\": [ \n         { \n        \"address_refinement\": \"Apartment 124, Globe View\",\n            \"address_number\": \"10\",\n            \"address_street\": \"High Timber Street\",\n            \"address_city\": \"London\",\n            \"address_postal_code\": \"EC4V 3PN\",\n            \"address_region\": \"Greater London\",\n            \"address_iso_country\": \"GBR\",\n           \"address_start_date\": \"2000-09-02\", \n           \"address_end_date\": \"2022-12-20\" \n         } \n       ], \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2015-11-21\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate idv identity check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"idv_check_scenario\": \"PayrNet-IdVS1-identity-check\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/idv-checks",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"idv-checks"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Driving licence check",
			"description": "",
			"item": [
				{
					"name": "Create an Enduser (me)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Harrison Smith\", \n       \"email\": \"harrison@railsbank.com\", \n       \"date_of_birth\": \"1999-08-21\", \n       \"telephone\": \"+44 7429576044\", \n       \"address\": {  \n         \"address_refinement\": \"Bramber\", \n         \"address_number\": \"65\", \n         \"address_street\": \"Chalkwell Esplanade\", \n         \"address_city\": \"Westcliff-on-Sea\", \n         \"address_postal_code\": \"SS0 8JH\", \n         \"address_iso_country\": \"GBR\" \n       }, \n   \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2018-01-01\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate idv driving licence check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"idv_check_scenario\": \"PayrNet-IdVS1-driving-licence-check\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/idv-checks",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"idv-checks"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload drivers licence front",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fdd600ff-70a8-495c-8e1e-0bd742a80569",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-front",
									"type": "text"
								},
								{
									"key": "file",
									"value": "",
									"type": "file",
									"disabled": true
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-back",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/idv-docs",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"idv-docs"
							]
						}
					},
					"response": []
				},
				{
					"name": "Needed docs",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fdd600ff-70a8-495c-8e1e-0bd742a80569",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-front",
									"description": "",
									"type": "text"
								},
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file",
									"disabled": true
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-back",
									"description": "",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/idv-docs?idv_check_scenario=PayrNet-IdVS1-driving-licence-check",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"idv-docs"
							],
							"query": [
								{
									"key": "idv_check_scenario",
									"value": "PayrNet-IdVS1-driving-licence-check"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "cca00f85-7708-49fc-8fb0-d7fd613d31cd",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "eea331a7-ed9d-4b58-bae0-21a863ae01ed",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "ID&V and Screening Diving Licence Firewall Rules",
			"description": "",
			"item": [
				{
					"name": "Set ID&V firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"\r\n  [rules\r\n          [rule\r\n           :document-driving-licence\r\n           [let [ic [identity-check! enduser]\r\n                 ic-status [get ic :status]]\r\n            [if [= ic-status \\\"ok\\\"]\r\n             [let [ca [screening enduser]\r\n                   hits [get ca \\\"total_hits\\\"]]\r\n              [if [> hits 0]\r\n               quarantine\r\n               ok]]\r\n             [let [dc [document-check-driving-licence! enduser]\r\n                   dc-status [get dc :status]]\r\n              [if [= dc-status \\\"ok\\\"]\r\n               [let [ca [screening enduser]\r\n                     hits [get ca \\\"total_hits\\\"]]\r\n                [if [> hits 0]\r\n                 quarantine\r\n                 ok]]\r\n               quarantine]]]]]]\r\n        \"\r\n           }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (me)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Harrison Smith\", \n       \"email\": \"harrison@railsbank.com\", \n       \"date_of_birth\": \"1999-08-21\", \n       \"telephone\": \"+44 7429576044\", \n       \"address\": {  \n         \"address_refinement\": \"Bramber\", \n         \"address_number\": \"65\", \n         \"address_street\": \"Chalkwell Esplanade\", \n         \"address_city\": \"Westcliff-on-Sea\", \n         \"address_postal_code\": \"SS0 8JH\", \n         \"address_iso_country\": \"GBR\" \n       }, \n   \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2018-01-01\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "List of objects in quarantine",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{baseurl}}/v1/customer/quarantine",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"quarantine"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload drivers licence front",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fdd600ff-70a8-495c-8e1e-0bd742a80569",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-front",
									"description": "",
									"type": "text"
								},
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file",
									"disabled": true
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-back",
									"description": "",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/idv-docs",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"idv-docs"
							]
						}
					},
					"response": []
				},
				{
					"name": "Needed docs",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fdd600ff-70a8-495c-8e1e-0bd742a80569",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-front",
									"description": "",
									"type": "text"
								},
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file",
									"disabled": true
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-back",
									"description": "",
									"type": "text",
									"disabled": true
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/idv-docs",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"idv-docs"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "cca00f85-7708-49fc-8fb0-d7fd613d31cd",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "eea331a7-ed9d-4b58-bae0-21a863ae01ed",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "ID&V and Screening Diving Licence 2",
			"description": "",
			"item": [
				{
					"name": "Set ID&V firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"\r\n  [rules\r\n          [rule\r\n           :document-driving-licence\r\n           [let [ic [identity-check! enduser]\r\n                 ic-status [get ic :status]]\r\n            [if [= ic-status \\\"ok\\\"]\r\n             [let [ca [screening enduser]\r\n                   hits [get ca \\\"total_hits\\\"]]\r\n              [if [> hits 0]\r\n               quarantine\r\n               ok]]\r\n             [let [dc [document-check-driving-licence! enduser]\r\n                   dc-status [get dc :status]]\r\n              [if [= dc-status \\\"ok\\\"]\r\n               [let [ca [screening enduser]\r\n                     hits [get ca \\\"total_hits\\\"]]\r\n                [if [> hits 0]\r\n                 quarantine\r\n                 ok]]\r\n               quarantine]]]]]]\r\n        \"\r\n           }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (me)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Harrison Smith\", \n       \"email\": \"harrison@railsbank.com\", \n       \"date_of_birth\": \"1999-08-21\", \n       \"telephone\": \"+44 7429576044\", \n       \"address\": {  \n         \"address_refinement\": \"Bramber\", \n         \"address_number\": \"65\", \n         \"address_street\": \"Chalkwell Esplanade\", \n         \"address_city\": \"Westcliff-on-Sea\", \n         \"address_postal_code\": \"SS8 8JH\", \n         \"address_iso_country\": \"GBR\" \n       }, \n   \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2018-01-01\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload drivers licence front",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fdd600ff-70a8-495c-8e1e-0bd742a80569",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-front",
									"description": "",
									"type": "text"
								},
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-back",
									"description": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/identity-verification-documents",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"identity-verification-documents"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ID&V and Screening Diving Licence 3",
			"description": "",
			"item": [
				{
					"name": "Set ID&V firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"\r\n  [rules\r\n          [rule\r\n           :document-driving-licence\r\n           [let [ic [identity-check! enduser]\r\n                 ic-status [get ic :status]]\r\n            [if [= ic-status \\\"ok\\\"]\r\n             [let [ca [screening enduser]\r\n                   hits [get ca \\\"total_hits\\\"]]\r\n              [if [> hits 0]\r\n               quarantine\r\n               ok]]\r\n             [let [dc [document-check-driving-licence! enduser]\r\n                   dc-status [get dc :status]]\r\n              [if [= dc-status \\\"ok\\\"]\r\n               [let [ca [screening enduser]\r\n                     hits [get ca \\\"total_hits\\\"]]\r\n                [if [> hits 0]\r\n                 quarantine\r\n                 ok]]\r\n               quarantine]]]]]]\r\n        \"\r\n           }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (me)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"John Smith\", \n       \"email\": \"harrison@railsbank.com\", \n       \"date_of_birth\": \"1999-08-21\", \n       \"telephone\": \"+44 7429576044\", \n       \"address\": {  \n         \"address_refinement\": \"Bramber\", \n         \"address_number\": \"65\", \n         \"address_street\": \"Chalkwell Esplanade\", \n         \"address_city\": \"Westcliff-on-Sea\", \n         \"address_postal_code\": \"SS9 8JH\", \n         \"address_iso_country\": \"GBR\" \n       }, \n   \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2018-01-01\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload drivers licence front",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fdd600ff-70a8-495c-8e1e-0bd742a80569",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-front",
									"description": "",
									"type": "text"
								},
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-back",
									"description": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/identity-verification-documents",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"identity-verification-documents"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ID&V and Screening for Transactions",
			"description": "",
			"item": [
				{
					"name": "Create an Enduser (me)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Harrison Smith\", \n       \"email\": \"harrison@railsbank.com\", \n       \"date_of_birth\": \"1999-08-21\", \n       \"telephone\": \"+44 7429576044\", \n       \"address\": {  \n         \"address_refinement\": \"Bramber\", \n         \"address_number\": \"65\", \n         \"address_street\": \"Chalkwell Esplanade\", \n         \"address_city\": \"Westcliff-on-Sea\", \n         \"address_postal_code\": \"SS0 8JH\", \n         \"address_iso_country\": \"GBR\" \n       }, \n   \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2018-01-01\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set ID&V firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \r\n    \" [rules \r\n      [rule \r\n      :identity-check\r\n      [let [ic [identity-check! enduser] \r\n      status [get ic :status]] \r\n      [if [= status \\\"ok\\\"\r\n      ] ok quarantine]]]]\r\n      \" \r\n}\r\n           "
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set ID&V firewall rules (beneficiaries)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \r\n    \" [rules \r\n      [rule \r\n      :identity-check\r\n      [let [ic [identity-check! holder] \r\n      status [get ic :status]] \r\n      [if [= status \\\"ok\\\"\r\n      ] ok quarantine]]]]\r\n      \" \r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/beneficiaries",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"beneficiaries"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set ID&V firewall rules (transactions)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \r\n    \" [rules \r\n      [rule \r\n      :identity-check\r\n      [let [ic [identity-check! sender] \r\n      status [get ic :status]] \r\n      [if [= status \\\"ok\\\"\r\n      ] ok quarantine]]]]\r\n      \" \r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/transactions",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add a New Beneficiary (Individual)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"pm.environment.set(\"beneficiary_id\", jsonData.beneficiary_id);"
								],
								"id": "b53e6b21-b686-4a85-8d43-d69794934f84",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"iban\": \"{{secondledgeriban}}\",\r\n  \"holder_id\": \"{{enduser_id}}\",\r\n  \"asset_class\": \"currency\",\r\n  \"asset_type\": \"eur\",\r\n  \"bic_swift\": \"PAYRGB21\",\r\n  \r\n      \"person\": { \r\n       \"name\": \"Harrison Smith\", \r\n       \"email\": \"harrison@railsbank.com\", \r\n       \"date_of_birth\": \"1999-08-21\", \r\n       \"telephone\": \"+44 7429576044\", \r\n       \"address\": {  \r\n         \"address_refinement\": \"Bramber\", \r\n         \"address_number\": \"65\", \r\n         \"address_street\": \"Chalkwell Esplanade\", \r\n         \"address_city\": \"Westcliff-on-Sea\", \r\n         \"address_postal_code\": \"SS0 8JH\", \r\n         \"address_iso_country\": \"GBR\" \r\n       }, \r\n   \r\n       \"nationality\": [ \r\n         \"British\" \r\n       ], \r\n       \"country_of_residence\": [ \r\n         \"GBR\" \r\n       ], \r\n       \"date_onboarded\": \"2018-01-01\" \r\n     }, \r\n      \"enduser_meta\": { \r\n       \"foo\": \"baa\", \r\n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \r\n     } \r\n   }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/beneficiaries",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"beneficiaries"
							]
						},
						"description": "current receiver: \nuser: 59776cff-3b5e-4ad8-8c12-3301386ab7ab\nledger: 59777178-b126-436b-a6c7-4c4c18620937\niban: SK5500000011501000099891"
					},
					"response": []
				},
				{
					"name": "Create a EUR Ledger for Enduser",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "65e2a74c-4703-47eb-a0be-0b9894eaa753",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"ledger_id\", jsonData.ledger_id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"holder_id\": \"{{enduser_id}}\",\r\n  \"partner_product\": \"{{euroledger_prodref}}\",\r\n  \"asset_class\": \"currency\",\r\n  \"asset_type\": \"eur\",\r\n  \"ledger_type\": \"ledger-type-single-user\",\r\n  \"ledger_who_owns_assets\": \"ledger-assets-owned-by-me\",\r\n  \"ledger_primary_use_types\": [\"ledger-primary-use-types-payments\"],\r\n  \"ledger_t_and_cs_country_of_jurisdiction\": \"GB\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Ledger Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/{{ledger_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"{{ledger_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Second Ledger",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"if (responseCode.code === 200){",
									"    var jsonData = JSON.parse(responseBody);",
									"    postman.setEnvironmentVariable(\"second_ledger_id\", jsonData.ledger_id);",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"holder_id\": \"{{enduser_id}}\",\r\n  \"partner_product\": \"{{euroledger_prodref}}\",\r\n  \"asset_class\": \"currency\",\r\n  \"asset_type\": \"eur\",\r\n  \"ledger_type\": \"ledger-type-single-user\",\r\n  \"ledger_who_owns_assets\": \"ledger-assets-owned-by-me\",\r\n  \"ledger_primary_use_types\": [\"ledger-primary-use-types-payments\"],\r\n  \"ledger_t_and_cs_country_of_jurisdiction\": \"GB\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Ledger Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/{{second_ledger_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"{{second_ledger_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Assign IBAN to Second Ledger",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/{{second_ledger_id}}/assign-iban",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"{{second_ledger_id}}",
								"assign-iban"
							]
						}
					},
					"response": []
				},
				{
					"name": "Assign IBAN to Ledger",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/{{ledger_id}}/assign-iban",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"{{ledger_id}}",
								"assign-iban"
							]
						}
					},
					"response": []
				},
				{
					"name": "Standard transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cb4d52e9-24b2-44c8-bcda-3770ef78b77e",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Amount not positve\"] = jsonData.error_detail === \"amount-not-positive\";",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"transaction_id\", jsonData.transaction_id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"ledger_from_id\": \"{{ledger_id}}\",\r\n  \"beneficiary_id\": \"{{beneficiary_id}}\",\r\n  \"payment_type\": \"payment-type-EU-SEPA-Step2\",\r\n  \"amount\": \"3\",\r\n  \"reference\": \"xyz\",\r\n  \"transaction_meta\": {\r\n    \"info\": \"{{test_info}}\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Pseudo credit first ledger",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"amount\": 4,\r\n  \"bic_swift\": \"PAYRGB21\",\r\n  \"iban\": \"{{iban}}\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/dev/customer/transactions/receive",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"dev",
								"customer",
								"transactions",
								"receive"
							]
						}
					},
					"response": []
				},
				{
					"name": "List of objects in quarantine",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{baseurl}}/v1/customer/quarantine",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"quarantine"
							]
						}
					},
					"response": []
				},
				{
					"name": "Ledger Wait copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6f311c47-2e10-40b6-bcd7-b0ccbc67d0a2",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"secondledgeriban\", jsonData.iban);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/{{second_ledger_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"{{second_ledger_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Ledger Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7c1b410b-fda5-4bc4-895d-16df3543f829",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"iban\", jsonData.iban);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/{{ledger_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"{{ledger_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Transaction Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "91a80afd-7819-471b-b908-6ff12988b657",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/{{transaction_id}}",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"{{transaction_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ID&V and Screening Diving Licence (B)",
			"description": "",
			"item": [
				{
					"name": "Set ID&V firewall rules (beneficiaries)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"\r\n  [rules\r\n          [rule\r\n           :document-driving-licence\r\n           [let [ic [identity-check! beneficiary]\r\n                 ic-status [get ic :status]]\r\n            [if [= ic-status \\\"ok\\\"\r\n            ]\r\n             [let [ca [screening beneficiary]\r\n                   hits [get ca \\\"total_hits\\\"\r\n                   ]]\r\n              [if [> hits 0]\r\n               quarantine\r\n               ok]]\r\n             [let [dc [document-check-driving-licence! beneficiary]\r\n                   dc-status [get dc :status]]\r\n              [if [= dc-status \\\"ok\\\"\r\n              ]\r\n               [let [ca [screening beneficiary]\r\n                     hits [get ca \\\"total_hits\\\"\r\n                     ]]\r\n                [if [> hits 0]\r\n                 quarantine\r\n                 ok]]\r\n               quarantine]]]]]]\r\n        \"\r\n           }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/beneficiaries",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"beneficiaries"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add a New Beneficiary (Individual)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"pm.environment.set(\"beneficiary_id\", jsonData.beneficiary_id);"
								],
								"id": "b53e6b21-b686-4a85-8d43-d69794934f84",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"iban\": \"{{iban}}\",\r\n  \"holder_id\": \"{{enduser_id}}\",\r\n  \"asset_class\": \"currency\",\r\n  \"asset_type\": \"eur\",\r\n  \r\n      \"person\": { \r\n       \"name\": \"Harrison Smith\", \r\n       \"email\": \"harrison@railsbank.com\", \r\n       \"date_of_birth\": \"1999-08-21\", \r\n       \"telephone\": \"+44 7429576044\", \r\n       \"address\": {  \r\n         \"address_refinement\": \"Bramber\", \r\n         \"address_number\": \"65\", \r\n         \"address_street\": \"Chalkwell Esplanade\", \r\n         \"address_city\": \"Westcliff-on-Sea\", \r\n         \"address_postal_code\": \"SS0 8JH\", \r\n         \"address_iso_country\": \"GBR\" \r\n       }, \r\n   \r\n       \"nationality\": [ \r\n         \"British\" \r\n       ], \r\n       \"country_of_residence\": [ \r\n         \"GBR\" \r\n       ], \r\n       \"date_onboarded\": \"2018-01-01\" \r\n     }, \r\n      \"enduser_meta\": { \r\n       \"foo\": \"baa\", \r\n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \r\n     } \r\n   }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/beneficiaries",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"beneficiaries"
							]
						},
						"description": "current receiver: \nuser: 59776cff-3b5e-4ad8-8c12-3301386ab7ab\nledger: 59777178-b126-436b-a6c7-4c4c18620937\niban: SK5500000011501000099891"
					},
					"response": []
				},
				{
					"name": "Beneficiary re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/beneficiaries/{{beneficiary_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"beneficiaries",
								"{{beneficiary_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Beneficiary Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/beneficiaries/{{beneficiary_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"beneficiaries",
								"{{beneficiary_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload drivers licence front",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fdd600ff-70a8-495c-8e1e-0bd742a80569",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-front",
									"description": "",
									"type": "text"
								},
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-back",
									"description": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/beneficiaries/{{beneficiary_id}}/identity-verification-documents",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"beneficiaries",
								"{{beneficiary_id}}",
								"identity-verification-documents"
							]
						}
					},
					"response": []
				},
				{
					"name": "Beneficiary re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/beneficiaries/{{beneficiary_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"beneficiaries",
								"{{beneficiary_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Beneficiary Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/beneficiaries/{{beneficiary_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"beneficiaries",
								"{{beneficiary_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ID&V to onboard an enduser 2 (Passport)",
			"description": "",
			"item": [
				{
					"name": "Set ID&V firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"\r\n  [rules\r\n          [rule\r\n           :passport\r\n           [let [ic [identity-check! enduser]\r\n                 ic-status [get ic :status]]\r\n            [if [= ic-status \\\"ok\\\"\r\n            ]\r\n             ok\r\n             [let [dc [document-check-passport! enduser]\r\n                   dc-status [get dc :status]]\r\n              [if [= dc-status \\\"ok\\\"\r\n              ]\r\n               ok\r\n               quarantine]]]]]]\r\n               \"\r\n\r\n\r\n                       }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (Nigel)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Nigel Verdon\",\n          \"email\": \"nigel@railsbank.com\",\n          \"date_of_birth\": \"1967-04-01\",\n          \"telephone\": \"0012345678912\",\n          \"address\": {\n            \"address_refinement\": \"Apartment 124, Globe View\",\n            \"address_number\": \"10\",\n            \"address_street\": \"High Timber Street\",\n            \"address_city\": \"London\",\n            \"address_postal_code\": \"EC4V 3PN\",\n            \"address_region\": \"Greater London\",\n            \"address_iso_country\": \"GBR\"\n       }, \n       \"address_history\": [ \n         { \n        \"address_refinement\": \"Apartment 124, Globe View\",\n            \"address_number\": \"10\",\n            \"address_street\": \"High Timber Street\",\n            \"address_city\": \"London\",\n            \"address_postal_code\": \"EC4V 3PN\",\n            \"address_region\": \"Greater London\",\n            \"address_iso_country\": \"GBR\",\n           \"address_start_date\": \"2000-09-02\", \n           \"address_end_date\": \"2022-12-20\" \n         } \n       ], \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2015-11-21\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload passport",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d42ea65b-2052-497e-b5b5-17876d8aacd7",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "passport",
									"description": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/identity-verification-documents",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"identity-verification-documents"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ID&V to onboard an enduser (Passport)",
			"description": "",
			"item": [
				{
					"name": "Set ID&V firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"\r\n  [rules\r\n    [rule  :passport-check\r\n      [let  [dc  [document-check-passport! enduser]\r\n        status  [get  dc  :status]]\r\n      [if  [=  status  \\\"ok\\\"\r\n      ]        \r\n      ok    \r\n      quarantine]]]]\"\r\n                       }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (Nigel)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Nigel Verdon\",\n          \"email\": \"nigel@railsbank.com\",\n          \"date_of_birth\": \"1967-04-01\",\n          \"telephone\": \"0012345678912\",\n          \"address\": {\n            \"address_refinement\": \"Apartment 124, Globe View\",\n            \"address_number\": \"10\",\n            \"address_street\": \"High Timber Street\",\n            \"address_city\": \"London\",\n            \"address_postal_code\": \"EC4V 3PN\",\n            \"address_region\": \"Greater London\",\n            \"address_iso_country\": \"GBR\"\n       }, \n       \"address_history\": [ \n         { \n        \"address_refinement\": \"Apartment 124, Globe View\",\n            \"address_number\": \"10\",\n            \"address_street\": \"High Timber Street\",\n            \"address_city\": \"London\",\n            \"address_postal_code\": \"EC4V 3PN\",\n            \"address_region\": \"Greater London\",\n            \"address_iso_country\": \"GBR\",\n           \"address_start_date\": \"2000-09-02\", \n           \"address_end_date\": \"2022-12-20\" \n         } \n       ], \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2015-11-21\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload passport",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d42ea65b-2052-497e-b5b5-17876d8aacd7",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "passport",
									"description": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/identity-verification-documents",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"identity-verification-documents"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ID&V to onboard an enduser (drivers licence)",
			"description": "",
			"item": [
				{
					"name": "Set ID&V firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"\r\n  [rules\r\n    [rule  :driving-licence-check\r\n      [let  [dc  [document-check-driving-licence! enduser]\r\n        status  [get  dc  :status]]\r\n      [if  [=  status  \\\"ok\\\"\r\n      ]        \r\n      ok    \r\n      quarantine]]]]\"\r\n                       }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (me)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Harrison Smith\", \n       \"email\": \"harrison@railsbank.com\", \n       \"date_of_birth\": \"1999-08-21\", \n       \"telephone\": \"+44 7429576044\", \n       \"address\": {  \n         \"address_refinement\": \"Bramber\", \n         \"address_number\": \"65\", \n         \"address_street\": \"Chalkwell Esplanade\", \n         \"address_city\": \"Westcliff-on-Sea\", \n         \"address_postal_code\": \"SS0 8JH\", \n         \"address_iso_country\": \"GBR\" \n       }, \n   \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2018-01-01\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Upload drivers licence front",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fdd600ff-70a8-495c-8e1e-0bd742a80569",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-front",
									"description": "",
									"type": "text"
								},
								{
									"key": "file",
									"value": "",
									"description": "",
									"type": "file"
								},
								{
									"key": "idv_document_type",
									"value": "driving-licence-back",
									"description": "",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/identity-verification-documents",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"identity-verification-documents"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ID&V to onboard an enduser (Identity)",
			"description": "",
			"item": [
				{
					"name": "Set ID&V firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"\r\n  [rules\r\n    [rule  :identity-check\r\n      [let  [ic  [identity-check!  enduser]\r\n        status  [get  ic  :status]]\r\n      [if  [=  status  \\\"ok\\\"\r\n      ]        \r\n      ok    \r\n      quarantine]]]]\"\r\n                       }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (me)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Harrison Smith\", \n       \"email\": \"harrison@railsbank.com\", \n       \"date_of_birth\": \"1999-08-21\", \n       \"telephone\": \"+44 7429576044\", \n       \"address\": {  \n         \"address_refinement\": \"Bramber\", \n         \"address_number\": \"65\", \n         \"address_street\": \"Chalkwell Esplanade\", \n         \"address_city\": \"Westcliff-on-Sea\", \n         \"address_postal_code\": \"SS0 8JH\", \n         \"address_iso_country\": \"GBR\" \n       }, \n   \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2018-01-01\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser re-run firewalls copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/rerun-firewall",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"rerun-firewall"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Screening to onboard an enduser",
			"description": "",
			"item": [
				{
					"name": "Set screening rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"compliance_firewall_rules\": \"\n   [rule\n   :complyadvantage-zero-hits\n   [let [ca[screening enduser]\n  hits [get ca \\\"total_hits\\\"\n  ]]\n  [if[> hits 0]\n  quarantine]]]\n   \"    \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (individual)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Rebecca Baker\", \n       \"email\": \"rebeccabaker@example.net\", \n       \"date_of_birth\": \"1970-11-05\", \n       \"telephone\": \"+44 22 626 2626\", \n       \"address\": {  \n         \"address_refinement\": \"Apartment 42\", \n         \"address_number\": \"29\", \n         \"address_street\": \"Acacia Road\", \n         \"address_city\": \"Nuttytown\", \n         \"address_postal_code\": \"FX20 7XS\", \n         \"address_iso_country\": \"GBR\" \n       }, \n       \"address_history\": [ \n         { \n           \"address_refinement\": \"Apartment 77\", \n           \"address_number\": \"42\", \n           \"address_street\": \"Kirschbaumstrae\", \n           \"address_city\": \"Berlin\", \n           \"address_postal_code\": \"12059\", \n           \"address_iso_country\": \"DE\", \n           \"address_start_date\": \"2000-09-02\", \n           \"address_end_date\": \"2002-12-20\" \n         } \n       ], \n       \"nationality\": [ \n         \"Czech\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2015-11-21\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Comment on enduser in quarantine copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"comment\": \"looks pretty good to me\"\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/quarantine/endusers/{{enduser_id}}/comments",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"quarantine",
								"endusers",
								"{{enduser_id}}",
								"comments"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Screening to onboard a monitored enduser",
			"description": "",
			"item": [
				{
					"name": "Set screening rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"compliance_firewall_rules\": \"\n   [rule\n   :complyadvantage-zero-hits\n   [let [ca[screening-monitored enduser]\n  hits [get ca \\\"total_hits\\\"\n  ]]\n  [if[> hits 0]\n  quarantine]]]\n   \"    \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (individual)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"enduser_id\", jsonData.enduser_id);"
								],
								"id": "f1d4ec33-80a5-4fa4-94fc-8270371062ff",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Rebecca Baker\", \n       \"email\": \"rebeccabaker@example.net\", \n       \"date_of_birth\": \"1970-11-05\", \n       \"telephone\": \"+44 22 626 2626\", \n       \"address\": {  \n         \"address_refinement\": \"Apartment 42\", \n         \"address_number\": \"29\", \n         \"address_street\": \"Acacia Road\", \n         \"address_city\": \"Nuttytown\", \n         \"address_postal_code\": \"FX20 7XS\", \n         \"address_iso_country\": \"GBR\" \n       }, \n       \"address_history\": [ \n         { \n           \"address_refinement\": \"Apartment 77\", \n           \"address_number\": \"42\", \n           \"address_street\": \"Kirschbaumstrae\", \n           \"address_city\": \"Berlin\", \n           \"address_postal_code\": \"12059\", \n           \"address_iso_country\": \"GBR\", \n           \"address_start_date\": \"2000-09-02\", \n           \"address_end_date\": \"2002-12-20\" \n         } \n       ], \n       \"nationality\": [ \n         \"Czech\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2015-11-21\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{enduser_id}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{enduser_id}}",
								"wait"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}