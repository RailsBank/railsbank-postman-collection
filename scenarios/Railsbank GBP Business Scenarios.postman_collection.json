{
	"info": {
		"_postman_id": "e7328adb-5951-c886-ae59-c1e775c3437d",
		"name": "Railsbank GBP Business Scenarios",
		"description": "A set of standard business scenarios which can be automatically tested using the runner to regression test before each update.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Webhook",
			"description": "",
			"item": [
				{
					"name": "Set webhook",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fbfcdcd4-5d63-421a-b2f4-1b594303554a",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"webhook_url\": \"http://requestbin.fullcontact.com/vbpxplvb\",\n  \"webhook_secret\": \"Post release testing 0.24\"\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/webhook",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"webhook"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Enduser Compliance ",
			"description": "Creates an enduser that breaks a set firewall rule. Resolves the enduser's case in quarantine.",
			"item": [
				{
					"name": "Set firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"compliance_firewall_rules\": \"[rules\\n [rule :qr-from-GBR\\n  [if [= [get person \\\"address_iso_country\\\"]\\n       GBR]\\n   quarantine]]]\"\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Helper: Delay 5s",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://postman-echo.com/delay/10",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								"delay",
								"10"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an Enduser (individual)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a209475f-0ea8-4000-a607-030fe3a4c821",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"businessGBPenduser_id1\", jsonData.enduser_id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n      \"person\": { \n       \"name\": \"Harrison Smith\", \n       \"email\": \"rebeccabaker@example.net\", \n       \"date_of_birth\": \"1970-11-05\", \n       \"telephone\": \"+44 22 626 2626\", \n       \"address\": {  \n         \"address_refinement\": \"Apartment 42\", \n         \"address_number\": \"29\", \n         \"address_street\": \"Acacia Road\", \n         \"address_city\": \"Nuttytown\", \n         \"address_postal_code\": \"SS0 8JH\", \n         \"address_iso_country\": \"GBR\" \n       }, \n       \"address_history\": [ \n         { \n           \"address_refinement\": \"Apartment 77\", \n           \"address_number\": \"42\", \n           \"address_street\": \"Kirschbaumstraße\", \n           \"address_city\": \"Berlin\", \n           \"address_postal_code\": \"12059\", \n           \"address_iso_country\": \"GBR\", \n           \"address_start_date\": \"2000-09-02\", \n           \"address_end_date\": \"2002-12-20\" \n         } \n       ], \n       \"nationality\": [ \n         \"British\" \n       ], \n       \"country_of_residence\": [ \n         \"GBR\" \n       ], \n       \"date_onboarded\": \"2015-11-21\" \n     }, \n      \"enduser_meta\": { \n       \"foo\": \"baa\", \n      \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\" \n     } \n   }\n"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3ed9d0dd-cd1d-422d-b8ff-05f7caa8644a",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Enduser firewall successful\"] = jsonData.enduser_status === \"enduser-status-quarantine\";"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{businessGBPenduser_id1}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{businessGBPenduser_id1}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Resolve enduser in quarantine",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"qr_status\": \"pass\",\n  \"comment\": \"looks pretty good to me\"\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/quarantine/endusers/{{businessGBPenduser_id1}}/resolve",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"quarantine",
								"endusers",
								"{{businessGBPenduser_id1}}",
								"resolve"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{businessGBPenduser_id1}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{businessGBPenduser_id1}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Reset firewall rules (endusers)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"\r\n    [rule :always-pass ok]\"\r\n                       }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/endusers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"endusers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Set firewall rules (beneficiaries)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"compliance_firewall_rules\": \"[rule :always-pass ok]\"\r\n\r\n                       }"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/beneficiaries",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"beneficiaries"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Receiving GBP (Faster Payments)",
			"description": "Will test that an outside bank account can credit a ledger",
			"item": [
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{businessGBPenduser_id1}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{businessGBPenduser_id1}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a GBP Ledger for Enduser",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "91056487-4603-4cec-b151-e2f02fba8b7b",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"businessGBPledger_id1\", jsonData.ledger_id);",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"holder_id\": \"{{businessGBPenduser_id1}}\",\r\n  \"partner_product\": \"{{gbpledger_prodref}}\",\r\n  \"asset_class\": \"currency\",\r\n  \"asset_type\": \"gbp\",\r\n  \"ledger_type\": \"ledger-type-single-user\",\r\n  \"ledger_who_owns_assets\": \"ledger-assets-owned-by-me\",\r\n  \"ledger_primary_use_types\": [\"ledger-primary-use-types-payments\"],\r\n  \"ledger_t_and_cs_country_of_jurisdiction\": \"GB\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a second GBP Ledger for Enduser",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "33147145-1dab-4a57-b151-6f3645e805df",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"businessGBPledger_id2\", jsonData.ledger_id);",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"holder_id\": \"{{businessGBPenduser_id1}}\",\r\n  \"partner_product\": \"{{gbpledger_prodref}}\",\r\n  \"asset_class\": \"currency\",\r\n  \"asset_type\": \"gbp\",\r\n  \"ledger_type\": \"ledger-type-single-user\",\r\n  \"ledger_who_owns_assets\": \"ledger-assets-owned-by-me\",\r\n  \"ledger_primary_use_types\": [\"ledger-primary-use-types-payments\"],\r\n  \"ledger_t_and_cs_country_of_jurisdiction\": \"GB\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Fetch GBP ledger entity",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "40930c90-c19f-4cf9-87c1-24fcc09eace3",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"accountnumber1\", jsonData.uk_account_number);",
									"postman.setEnvironmentVariable(\"sortcode1\", jsonData.uk_sort_code);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/{{businessGBPledger_id1}}",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"{{businessGBPledger_id1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Fetch second GBP ledger entity",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "929e2953-d6a0-416a-b01e-bc5c37168464",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"accountnumber2\", jsonData.uk_account_number);",
									"postman.setEnvironmentVariable(\"sortcode2\", jsonData.uk_sort_code);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/{{businessGBPledger_id2}}",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"{{businessGBPledger_id2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add a New Beneficiary (Individual)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "01c8e672-472b-4961-8a92-aab108e3ab86",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"pm.environment.set(\"businessGBPbeneficiary_id1\", jsonData.beneficiary_id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"uk-account_number\": \"{{accountnumber2}}\",\r\n  \"uk_sort_code\": \"{{sortcode2}}\",\r\n  \"holder_id\": \"{{businessGBPenduser_id1}}\",\r\n  \"asset_class\": \"currency\",\r\n  \"asset_type\": \"gbp\",\r\n  \"person\": {\r\n    \"country_of_residence\": [\r\n      \"GB\"\r\n    ],\r\n    \"address_history\": [\r\n      {\r\n        \"address_refinement\": \"Apartment 77\",\r\n        \"address_number\": \"42\",\r\n        \"address_street\": \"Kirschbaumstraße\",\r\n        \"address_city\": \"Berlin\",\r\n        \"address_postal_code\": \"12059\",\r\n        \"address_iso_country\": \"DE\",\r\n        \"address_start_date\": \"2000-09-02\",\r\n        \"address_end_date\": \"2002-12-20\"\r\n      }\r\n    ],\r\n    \"date_onboarded\": \"2015-11-21\",\r\n    \"email\": \"bananaman@example.net\",\r\n    \"name\": \"Eric Wimp\",\r\n    \"address\": {\r\n      \"address_refinement\": \"Apartment 42\",\r\n      \"address_number\": \"29\",\r\n      \"address_street\": \"Acacia Road\",\r\n      \"address_city\": \"Nuttytown\",\r\n      \"address_postal_code\": \"FX20 7XS\",\r\n      \"address_iso_country\": \"GB\"\r\n    },\r\n    \"telephone\": \"+44 22 626 2626\",\r\n    \"date_of_birth\": \"1970-11-05\",\r\n    \"nationality\": [\r\n      \"Czech\"\r\n    ]\r\n  },\r\n  \r\n  \"beneficiary_meta\": {\r\n    \"foo\": \"baa\",\r\n    \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/beneficiaries",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"beneficiaries"
							]
						},
						"description": "current receiver: \nuser: 59776cff-3b5e-4ad8-8c12-3301386ab7ab\nledger: 59777178-b126-436b-a6c7-4c4c18620937\niban: SK5500000011501000099891"
					},
					"response": []
				},
				{
					"name": "Standard transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2fa2b8ef-b000-47e9-a86b-009f5e3262e3",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"if (responseCode.code === 200){",
									"    var jsonData = JSON.parse(responseBody);",
									"    postman.setEnvironmentVariable(\"businessGBPtransaction_id1\", jsonData.transaction_id);",
									"}",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"ledger_id\": \"{{businessGBPledger_id1}}\",\r\n  \"beneficiary_id\": \"{{businessGBPbeneficiary_id1}}\",\r\n  \"payment_type\": \"payment-type-UK-FasterPayments\",\r\n  \"amount\": \"4\",\r\n \"reference\": \"xyz\",\r\n  \"transaction_meta\": {\r\n    \"info\": \"{{test_info}}\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Transaction Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/{{businessGBPtransaction_id1}}",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"{{businessGBPtransaction_id1}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Interledger Transfer GBP",
			"description": "Creates an enduser, creates a ledger for that enduser, transfers money to that ledger from the company ledger.",
			"item": [
				{
					"name": "Inter-Ledger Transfer",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bfa13240-4b9a-418f-be06-c1cee7df23ab",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"    var jsonData = JSON.parse(responseBody);",
									"    postman.setEnvironmentVariable(\"businessGBPtransaction_id2\", jsonData.transaction_id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": \"2\",\n  \"ledger_from_id\": \"{{businessGBPledger_id2}}\",\n  \"ledger_to_id\": \"{{businessGBPledger_id1}}\",\n  \"transaction_meta\": {\n    \"foo\": \"bar\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/inter-ledger",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"inter-ledger"
							]
						},
						"description": "from ledger id to second ledger id"
					},
					"response": []
				},
				{
					"name": "Check Transaction Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/{{businessGBPtransaction_id2}}",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"{{businessGBPtransaction_id2}}"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"id": "6993a7c1-79d7-42db-aae8-c42d1eeabc2e",
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"id": "f26b6c0c-8f10-484d-9540-e04f553435d3",
						"type": "text/javascript"
					}
				}
			]
		},
		{
			"name": "Create, credit, and transfer virtual currency between virtual ledgers",
			"description": "",
			"item": [
				{
					"name": "Helper: Delay 5s",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://postman-echo.com/delay/10",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								"delay",
								"10"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a Whisky Ledger for Enduser",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"whisky_ledger_id\", jsonData.ledger_id);"
								],
								"id": "739c4efe-30cd-4723-a2cc-b6109a93502c",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"holder_id\": \"{{businessGBPenduser_id1}}\",\r\n  \"asset_class\": \"commodity\",\r\n  \"asset_type\": \"whisky\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/virtual",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"virtual"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{businessGBPenduser_id1}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{businessGBPenduser_id1}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a 2nd Whisky Ledger for Enduser",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"second_whisky_ledger_id\", jsonData.ledger_id);"
								],
								"id": "3bd7155c-6283-4f32-aec7-bb4fd90736c4",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"holder_id\": \"{{businessGBPenduser_id1}}\",\r\n  \"asset_class\": \"commodity\",\r\n  \"asset_type\": \"whisky\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/virtual",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"virtual"
							]
						}
					},
					"response": []
				},
				{
					"name": "Enduser Wait ",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/endusers/{{businessGBPenduser_id1}}/wait",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"endusers",
								"{{businessGBPenduser_id1}}",
								"wait"
							]
						}
					},
					"response": []
				},
				{
					"name": "Credit virtual ledger with 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"environment.delayTimerStart = new Date();"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"ledger_id\": \"{{whisky_ledger_id}}\",\r\n  \"amount\": \"3\"\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/manual-credit",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"manual-credit"
							]
						}
					},
					"response": []
				},
				{
					"name": "Helper: Delay 5s",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://postman-echo.com/delay/10",
							"protocol": "https",
							"host": [
								"postman-echo",
								"com"
							],
							"path": [
								"delay",
								"10"
							]
						}
					},
					"response": []
				},
				{
					"name": "Inter-Ledger Transfer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									" {",
									"     var jsonData = JSON.parse(responseBody);",
									"    postman.setEnvironmentVariable(\"virtualtransaction_id\", jsonData.transaction_id);",
									"}"
								],
								"id": "116b7d19-bdff-45eb-86b5-d00303915d5e",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": \"2\",\n  \"ledger_from_id\": \"{{whisky_ledger_id}}\",\n  \"ledger_to_id\": \"{{second_whisky_ledger_id}}\",\n  \"transaction_meta\": {\n    \"foo\": \"bar\"\n  }\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/inter-ledger",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"inter-ledger"
							]
						},
						"description": "from ledger id to second ledger id"
					},
					"response": []
				},
				{
					"name": "Check Whisky Ledger",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody)",
									"",
									"pm.globals.unset(\"variable_key\");"
								],
								"id": "c9115137-53f9-4f92-9623-d08c8c7911f6",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/ledgers/{{second_whisky_ledger_id}}/",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"ledgers",
								"{{second_whisky_ledger_id}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Transaction Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									""
								],
								"id": "6dce82cc-ee1f-474d-a4e6-49a69d708b95",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/{{virtualtransaction_id}}",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"{{virtualtransaction_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Send GBP to beneficiary",
			"description": "",
			"item": [
				{
					"name": "Add beneficiary for first ledger",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9f648395-bca1-4909-94fa-f412102639fe",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"pm.environment.set(\"businessGBPbeneficiary_id2\", jsonData.beneficiary_id);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"uk_account_number\": \"{{accountnumber1}}\",\r\n  \"uk_sort_code\": \"{{sortcode2}}\",\r\n  \"holder_id\": \"{{businessGBPenduser_id2}}\",\r\n  \"asset_class\": \"currency\",\r\n  \"asset_type\": \"gbp\",\r\n  \"person\": {\r\n    \"country_of_residence\": [\r\n      \"GB\"\r\n    ],\r\n    \"address_history\": [\r\n      {\r\n        \"address_refinement\": \"Apartment 77\",\r\n        \"address_number\": \"42\",\r\n        \"address_street\": \"Kirschbaumstraße\",\r\n        \"address_city\": \"Berlin\",\r\n        \"address_postal_code\": \"12059\",\r\n        \"address_iso_country\": \"DE\",\r\n        \"address_start_date\": \"2000-09-02\",\r\n        \"address_end_date\": \"2002-12-20\"\r\n      }\r\n    ],\r\n    \"date_onboarded\": \"2015-11-21\",\r\n    \"email\": \"bananaman@example.net\",\r\n    \"name\": \"Eric Wimp\",\r\n    \"address\": {\r\n      \"address_refinement\": \"Apartment 42\",\r\n      \"address_number\": \"29\",\r\n      \"address_street\": \"Acacia Road\",\r\n      \"address_city\": \"Nuttytown\",\r\n      \"address_postal_code\": \"FX20 7XS\",\r\n      \"address_iso_country\": \"GB\"\r\n    },\r\n    \"telephone\": \"+44 22 626 2626\",\r\n    \"date_of_birth\": \"1970-11-05\",\r\n    \"nationality\": [\r\n      \"Czech\"\r\n    ]\r\n  },\r\n  \"bic_swift\": \"SPSRSKBAXXX\",\r\n  \"beneficiary_meta\": {\r\n    \"foo\": \"baa\",\r\n    \"our_salesforce_reference\": \"http://na1.salesforce.com/5003000000D8cuI\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/beneficiaries",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"beneficiaries"
							]
						},
						"description": "current receiver: \nuser: 59776cff-3b5e-4ad8-8c12-3301386ab7ab\nledger: 59777178-b126-436b-a6c7-4c4c18620937\niban: SK5500000011501000099891"
					},
					"response": []
				},
				{
					"name": "Standard transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "73a1b2c2-738d-4a44-b05b-f55fe05d9cc8",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"if (responseCode.code === 200){",
									"    var jsonData = JSON.parse(responseBody);",
									"    postman.setEnvironmentVariable(\"businessGBPtransaction_id3\", jsonData.transaction_id);",
									"}",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"ledger_id\": \"{{businessGBPledger_id2}}\",\r\n  \"beneficiary_id\": \"{{businessGBPbeneficiary_id2}}\",\r\n  \"payment_type\": \"payment-type-UK-FasterPayments\",\r\n  \"amount\": \"2\",\r\n \"reference\": \"xyz\",\r\n  \"transaction_meta\": {\r\n    \"info\": \"{{test_info}}\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Transaction Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/{{businessGBPtransaction_id3}}",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"{{businessGBPtransaction_id3}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Return GBP + Transactions Compliance",
			"description": "Creates an transaction that breaks a set firewall rule. Displays that the transaction is in quarantine to prove the rules work.",
			"item": [
				{
					"name": "Set firewall rules (transactions)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"compliance_firewall_rules\": \"[rules\\n [rule :qr-over-1\\n  [if [> [get transaction \\\"amount\\\"]\\n       1]\\n   quarantine]]]\"\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/transactions",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Standard transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6f37c5a1-9f07-45a5-bd83-f22df8164c9b",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"if (responseCode.code === 200){",
									"    var jsonData = JSON.parse(responseBody);",
									"    postman.setEnvironmentVariable(\"businessGBPtransaction_id4\", jsonData.transaction_id);",
									"}",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"ledger_id\": \"{{businessGBPledger_id1}}\",\r\n  \"beneficiary_id\": \"{{transferwiseGBPbeneficiary_id}}\",\r\n  \"payment_type\": \"payment-type-UK-FasterPayments\",\r\n  \"amount\": \"4\",\r\n \"reference\": \"xyz\",\r\n  \"transaction_meta\": {\r\n    \"info\": \"{{test_info}}\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Transaction Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "671b2ce1-0795-4094-95c0-f82c1ae08c7b",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Transaction firewall successful\"] = jsonData.transaction_status === \"transaction-status-quarantine\";"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/{{businessGBPtransaction_id4}}",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"{{businessGBPtransaction_id4}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Resolve transaction in quarantine",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"qr_status\": \"pass\",\n  \"comment\": \"smells like roses\"\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/quarantine/transactions/{{businessGBPtransaction_id4}}/resolve",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"quarantine",
								"transactions",
								"{{businessGBPtransaction_id4}}",
								"resolve"
							]
						}
					},
					"response": []
				},
				{
					"name": "Check Transaction Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9e5e5d6f-2647-4196-a7f3-59530dd8edef",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");",
									"var jsonData = JSON.parse(responseBody);",
									"tests[\"Transaction firewall successful\"] = jsonData.transaction_status === \"transaction-status-accepted\";"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/transactions/{{businessGBPtransaction_id4}}",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"transactions",
								"{{businessGBPtransaction_id4}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Reset firewall rules (transactions)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"tests[\"CORS is present\"] = postman.getResponseHeader(\"access-control-allow-origin\");"
								],
								"id": "bb9ea43d-2a2a-4169-b1e3-355a50272b41",
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "{{customer_api_key}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"compliance_firewall_rules\": \"[rule :always-pass ok]\"\n}"
						},
						"url": {
							"raw": "{{baseurl}}/v1/customer/compliance-firewall-rules/transactions",
							"host": [
								"{{baseurl}}"
							],
							"path": [
								"v1",
								"customer",
								"compliance-firewall-rules",
								"transactions"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							""
						],
						"id": "84f71fbd-4d74-4d77-9a1d-c01fea38afa5",
						"type": "text/javascript"
					}
				},
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"id": "6cacaad2-b19c-44ed-92d7-dc3e64bb9a2b",
						"type": "text/javascript"
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "792289a4-c483-4a41-879e-b54a0380c0c6",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "5a703139-16a5-464c-bea4-e7beafd4af6d",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}